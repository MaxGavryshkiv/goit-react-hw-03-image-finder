{"version":3,"sources":["Modal/Modal.js","Loader/Loader.js","servises/pixabay-api.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Searchbar/Searchbar.js","Button/Button.js","App.js","index.js"],"names":["modalRoot","document","querySelector","Modal","handleKeyDown","event","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","onClick","children","Component","Load","type","color","height","width","fetchHits","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","ImageGalleryItem","objs","onClickModal","map","id","largeImageURL","webformatURL","tags","src","alt","ImageGallery","obj","Searchbar","state","query","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","autoComplete","autoFocus","placeholder","onChange","Button","scrollTo","top","documentElement","scrollHeight","behavior","App","isLoading","error","showModal","onChangeQuery","option","pixabayApi","prevState","catch","console","log","finally","openModal","largeImg","closeModal","prevProps","shouldRenderLoadMoreButton","length","modalChild","React","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4f256c48.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../styles/Modal.scss\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import Loader from \"react-loader-spinner\";\r\n\r\nconst Load = () => (\r\n  <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\r\n);\r\n\r\nexport default Load;\r\n","import axios from \"axios\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst fetchHits = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=21314712-d360d7109d82acff562e015b0&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nfetchHits.propTypes = {\r\n  searchQuery: PropTypes.string.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  pageSize: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default { fetchHits };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../styles/ImageGalleryItem.scss\";\r\n\r\nconst ImageGalleryItem = ({ objs, onClickModal }) => (\r\n  <>\r\n    {objs.map(({ id, largeImageURL, webformatURL, tags }) => (\r\n      <li\r\n        className=\"ImageGalleryItem\"\r\n        key={id}\r\n        onClick={() => onClickModal(largeImageURL)}\r\n      >\r\n        <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n      </li>\r\n    ))}\r\n  </>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  onClickModal: PropTypes.func.isRequired,\r\n  objs: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport \"../styles/ImageGallery.scss\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ obj, onClickModal }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      <ImageGalleryItem objs={obj} onClickModal={onClickModal} />\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  obj: PropTypes.array.isRequired,\r\n  onClickModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport \"../styles/Searchbar.scss\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n  handleChange = (event) => {\r\n    this.setState({ query: event.currentTarget.value });\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../styles/Button.scss\";\r\n\r\nclass Button extends Component {\r\n  componentDidMount() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <button type=\"button\" onClick={this.props.onClick} className=\"Button\">\r\n        Load More\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\n\nimport Modal from \"./Modal\";\nimport Load from \"./Loader\";\nimport pixabayApi from \"./servises/pixabay-api\";\nimport ImageGallery from \"./ImageGallery\";\nimport Searchbar from \"./Searchbar\";\nimport Button from \"./Button\";\n\nimport \"./App.scss\";\n\n// TODO propTypes and defaultProps\n\nclass App extends React.Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n    if (prevState.searchQuery !== searchQuery) {\n      this.fetchHits();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      largeImageURL: \"\",\n    });\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n    const option = { currentPage, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    pixabayApi\n      .fetchHits(option)\n      .then((hits) => {\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => console.log(error))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  openModal = (largeImg) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n    this.setState(() => ({\n      largeImageURL: largeImg,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  render() {\n    const { hits, isLoading, showModal, largeImageURL } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery\n          obj={hits}\n          onClickModal={this.openModal}\n          modalChild={this.modalChild}\n        />\n\n        <div className=\"button-container\">\n          {isLoading && <Load />}\n\n          {shouldRenderLoadMoreButton && <Button onClick={this.fetchHits} />}\n        </div>\n\n        {showModal && (\n          <Modal onClose={this.closeModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}